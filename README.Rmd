---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```


```{r badges, results='asis', echo=FALSE}
suppressPackageStartupMessages(library(badgecreatr))
acc <- "MarselScheer"
repo <- "GOF"
branch <- "master"
status <- "active"
lifecycle <- "experimental"
badges <- list(
  badge_travis(ghaccount = acc, ghrepo = repo, branch = branch),
  badge_lifecycle(lifecycle = lifecycle),
  badge_projectstatus(status = status),
  badge_cran_version_ago(packagename = repo),
  badge_cran_downloads(packagename = repo),
  badge_license()
  )
cat(paste(badges, collapse = " "))
```


# GOF

Bootstrap based goodness-of-fit tests for (linear) models. 
Assume you have fitted a statistical model, e.g. classical linear
model or generalized linear model or a model that follows
$Y = m(\beta^\top X) + \epsilon$. This package allows to perform
a rigorous statistical test to check if the chosen model family is correct.
    
## Example 

First we generate a data-set in order to apply the package. 

```{r}
set.seed(1)
N <- 100
X1 <- rnorm(N)
X2 <- rnorm(N)
d <- data.frame(
  y = rpois(n = N, lambda = exp(4 + X1 * 2 + X2 * 6)),
  x1 = X1,
  x2 = X2)
```
Note that both covariates influence the dependent variable $Y$. Taking
only one of the covariates into account obviously leads to a model family
that is not correct and the GOF-test should reveal that:

```{r}
fit <- glm(y ~ x1, data = d, family = poisson())
mt <- GOF_model(
  model = fit,
  data = d,
  nmb_boot_samples = 100,
  simulator_type = "parametric",
  y_name = "y",
  Rn1_statistic = Rn1_KS$new())
mt$get_pvalue()
```

On the other hand assuming the correct model family should in general not
be rejected by the GOF-test:

```{r}
fit <- glm(y ~ x1 + x2, data = d, family = poisson())
mt <- GOF_model(
  model = fit,
  data = d,
  nmb_boot_samples = 100,
  simulator_type = "parametric",
  y_name = "y",
  Rn1_statistic = Rn1_KS$new())
mt$get_pvalue()
```

...

## Installation

You can install it from CRAN

```{r, eval = FALSE}
install.packages("GOF")
```

or github

```{r gh-installation, eval = FALSE}
devtools::install_github("MarselScheer/GOF")
```

# sessionInfo

```{r}
sessionInfo()
```
